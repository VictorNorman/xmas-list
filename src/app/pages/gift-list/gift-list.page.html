<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
    <ion-title>{{userFirstName}} Christmas List</ion-title>
    <img class="header-img" slot="end" [src]="userPhotoUrl">
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-list lines="none">
    <ion-item *ngFor="let gift of gifts; index as i">
      <ion-card class="gift-card">
        <ion-card-header>
          <ion-card-title>
            <ion-icon name="gift"></ion-icon>
            {{gift.name}}
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{gift.info}}
          <ion-item class="gift-url" detail *ngIf="gift.url" [href]="gift.url" target="_blank">
            {{gift.url.slice(0, 30)}}
          </ion-item>
        </ion-card-content>
        <!-- only show claimed and comments if you are looking at someone else's list -->
        <ion-buttons>
          <!-- seems weird to make this a button, but doing so made all the heights the same -->
          <ion-button slot="start" fill="outline" *ngIf="! yourOwnList">
            <ion-text class="claimed-text">Claimed</ion-text>
            <ion-checkbox [(ngModel)]="gift.claimed" (ionChange)="claimedClicked(gift)"></ion-checkbox>
          </ion-button>
          <ion-button fill="outline" *ngIf="! yourOwnList" [routerLink]="'/comments/' + gift.giftid">
            {{getNumCommentsForAGift(gift)}} comments
          </ion-button>
          <ion-button *ngIf="youAdded(gift)" (click)="delete(i)">
            <ion-icon slot="end" name="trash"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-card>
    </ion-item>
  </ion-list>
  <ion-button expand="block" (click)="addGift(uid)">
    <ion-icon name="add"></ion-icon>
    Add
  </ion-button>

</ion-content>